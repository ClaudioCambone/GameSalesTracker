
<h1>Admin Panel</h1>
<head>
<%= javascript_include_tag 'activestorage' %>
<%= csrf_meta_tags %>
<%= stylesheet_link_tag 'admins', media: 'all' %>
</head>

<button id="toggleUsersButton">Show Users</button>

<table id="userTable" style="display: none;">
  <thead>
    <tr> 
      <th>ID</th>
      <th>Username</th>
      <th>Email</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr class="user-row">
        <td><%= user.id%>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
        <td> <%= link_to "Destroy", admins_user_path(user.id), method: :delete, data: { confirm: "You sure?" }, class: "btn btn-primary btn-md" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var userTable = document.getElementById('userTable');
    var toggleButton = document.getElementById('toggleUsersButton');

    toggleButton.addEventListener('click', function() {
      // Toggle the visibility of the user table
      userTable.style.display = userTable.style.display === 'none' ? 'table' : 'none';
    });
  });
</script>
